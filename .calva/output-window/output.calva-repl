; This is the Calva REPL Window.
; It's just a file, really, with some special treatment from Calva.
; Use it as a REPL input prompt if you like. (When the REPL is connected.)
; TIPS: The keyboard shortcut `ctrl+alt+o r` shows and focuses this window
; Please see https://calva.io/repl-window/ for more info.
; Happy coding! ♥️

; TIPS: As with any Clojure file when the REPL is connected:
; - `alt+enter` evaluates the current top level form.
; - `ctrl+enter` evaluates the current form.
; Special for this file:
; - `alt+up` and `alt+down` traverse up and down the REPL command history
;    when the cursor is after the last contents at the prompt
; 
; See also the Calva Inspector: https://calva.io/inspector/

PLEASE NOTE
We will update the default location of this file.
The new default location will be
  "<projectRootPath>/.calva/repl.calva-repl"
For now the legacy path is used by default.
To give yourself a smooth transition, you can opt in
to the change, by configuring this setting as false:
  "calva.useLegacyReplWindowPath"
and then add "**/.calva/repl.calva-repl" to your ".gitignore" file.


This file is configured as the output destination for all REPL output.
You can configure this with the setting:
  "calva.outputDestinations"


; Jacking in...
; Connecting using "Leiningen" project type.
; You can make Calva auto-select this.
;   - See https://calva.io/connect-sequences/
; 

; Starting Jack-in: (cd /home/josemorista/Documents/Dev/foss/eboshi; lein update-in :dependencies conj '[nrepl,"1.3.1"]' -- update-in :plugins conj '[cider/cider-nrepl,"0.55.4"]' -- update-in '[:repl-options,:nrepl-middleware]' conj '["cider.nrepl/cider-middleware"]' -- repl :headless)
; Using host:port 127.0.0.1:35907 ...
; Hooking up nREPL sessions ...
; Connected session: clj
; Evaluating code from settings: 'calva.autoEvaluateCode.onConnect.clj'
nil
clj꞉eboshi.core꞉> 
"Please see https://calva.io/output/#about-stdout-in-the-repl-window
about why stdout printed to this file is prepended with `;` to be line comments."
clj꞉eboshi.core꞉> 
; Jack-in done.
clj꞉eboshi.core꞉> 
; Evaluating file: mysql_migrations.clj
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/db-spec
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; Execution error (ExceptionInfo) at next.jdbc.connection/spec->url+etc (connection.clj:202).
; Unknown dbtype: , and :classname not provided.
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/db-spec
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
; SLF4J: Defaulting to no-operation (NOP) logger implementation
; SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
; Execution error (SQLException) at com.mysql.cj.jdbc.exceptions.SQLError/createSQLException (SQLError.java:121).
; No database selected
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/db-spec
clj꞉eboshi.integration.services.mysql-migrations꞉> 
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#:tables{:Tables_in_eboshi (test) "test"}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/check-if-table-exists
clj꞉eboshi.integration.services.mysql-migrations꞉> 
true
clj꞉eboshi.integration.services.mysql-migrations꞉> 
false
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/check-if-table-exists
clj꞉eboshi.integration.services.mysql-migrations꞉> 
false
clj꞉eboshi.integration.services.mysql-migrations꞉> 
true
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; ERROR in (up-migration-test) (SQLExceptionsMapping.java:96)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'name' at row 1
;  at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException (SQLExceptionsMapping.java:96)
;     com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal (ClientPreparedStatement.java:988)
;     com.mysql.cj.jdbc.ClientPreparedStatement.execute (ClientPreparedStatement.java:383)
;     next.jdbc.result_set$stmt__GT_result_set.invokeStatic (result_set.clj:675)
;     next.jdbc.result_set$stmt__GT_result_set.invoke (result_set.clj:670)
;     next.jdbc.result_set$eval14690$fn__14695.invoke (result_set.clj:888)
;     next.jdbc.protocols$eval13728$fn__13759$G__13717__13768.invoke (protocols.clj:34)
;     next.jdbc$execute_one_BANG_.invokeStatic (jdbc.clj:293)
;     next.jdbc$execute_one_BANG_.invoke (jdbc.clj:275)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:42)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:39)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112$fn__15113$fn__15114.invoke (mysql_migration_runner.clj:31)
;     next.jdbc.transaction$transact_STAR_.invokeStatic (transaction.clj:72)
;     next.jdbc.transaction$transact_STAR_.invoke (transaction.clj:51)
;     next.jdbc.transaction$eval14879$fn__14880.invoke (transaction.clj:135)
;     next.jdbc.protocols$eval13818$fn__13819$G__13809__13828.invoke (protocols.clj:58)
;     next.jdbc$transact.invokeStatic (jdbc.clj:433)
;     next.jdbc$transact.invoke (jdbc.clj:425)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112$fn__15113.invoke (mysql_migration_runner.clj:27)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112.invoke (mysql_migration_runner.clj:25)
;     clojure.core$partial$fn__5908.invoke (core.clj:2641)
;     clojure.lang.AFn.applyToHelper (AFn.java:154)
;     clojure.lang.RestFn.applyTo (RestFn.java:132)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (mysql_migration_runner.clj:18)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (mysql_migration_runner.clj:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval15140$make_mysql_migration_runner__15145$fn$reify__15147.execute_BANG_ (mysql_migration_runner.clj:43)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12491__12514.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12490__12518.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571$fn__12572.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval12721$run_next_BANG___12726$fn__12730$fn__12735.invoke (migrations.clj:38)
;     eboshi.services.migrations$eval12721$run_next_BANG___12726$fn__12730.invoke (migrations.clj:38)
;     eboshi.services.migrations$eval12721$run_next_BANG___12726.invoke (migrations.clj:30)
;     eboshi.services.migrations$eval12784$up_BANG___12789$fn__12790.invoke (migrations.clj:50)
;     eboshi.services.migrations$eval12784$up_BANG___12789.invoke (migrations.clj:47)
;     clojure.lang.AFn.applyToHelper (AFn.java:156)
;     clojure.lang.AFn.applyTo (AFn.java:144)
;     clojure.lang.Var.applyTo (Var.java:705)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     cider.nrepl.middleware.debug$apply_instrumented_maybe.invokeStatic (debug.clj:543)
;     cider.nrepl.middleware.debug$apply_instrumented_maybe.invoke (debug.clj:539)
;     eboshi.integration.services.mysql_migrations$fn__15993.invokeStatic (NO_SOURCE_FILE:68)
;     eboshi.integration.services.mysql_migrations/fn (NO_SOURCE_FILE:61)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval15916$fn__15917.invoke (mysql_migrations.clj:53)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval16000.invokeStatic (NO_SOURCE_FILE:74)
;     eboshi.integration.services.mysql_migrations$eval16000.invoke (NO_SOURCE_FILE:74)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 2 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 1, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/dummy-migrations
clj꞉eboshi.integration.services.mysql-migrations꞉> 
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; Ran 1 tests containing 1 assertions.
; 0 failures, 0 errors.
{:test 1, :pass 1, :fail 0, :error 0, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; Ran 1 tests containing 5 assertions.
; 0 failures, 0 errors.
{:test 1, :pass 5, :fail 0, :error 0, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; ERROR in (up-migration-test) (SQLError.java:109)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1Createt_1Table' for key 'eboshi_migrations.PRIMARY'
;  at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException (SQLError.java:109)
;     com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException (SQLExceptionsMapping.java:114)
;     com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal (ClientPreparedStatement.java:988)
;     com.mysql.cj.jdbc.ClientPreparedStatement.execute (ClientPreparedStatement.java:383)
;     next.jdbc.result_set$stmt__GT_result_set.invokeStatic (result_set.clj:675)
;     next.jdbc.result_set$stmt__GT_result_set.invoke (result_set.clj:670)
;     next.jdbc.result_set$eval14690$fn__14695.invoke (result_set.clj:888)
;     next.jdbc.protocols$eval13728$fn__13759$G__13717__13768.invoke (protocols.clj:34)
;     next.jdbc$execute_one_BANG_.invokeStatic (jdbc.clj:293)
;     next.jdbc$execute_one_BANG_.invoke (jdbc.clj:275)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:42)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:39)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112$fn__15113$fn__15114.invoke (mysql_migration_runner.clj:31)
;     next.jdbc.transaction$transact_STAR_.invokeStatic (transaction.clj:72)
;     next.jdbc.transaction$transact_STAR_.invoke (transaction.clj:51)
;     next.jdbc.transaction$eval14879$fn__14880.invoke (transaction.clj:135)
;     next.jdbc.protocols$eval13818$fn__13819$G__13809__13828.invoke (protocols.clj:58)
;     next.jdbc$transact.invokeStatic (jdbc.clj:433)
;     next.jdbc$transact.invoke (jdbc.clj:425)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112$fn__15113.invoke (mysql_migration_runner.clj:27)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112.invoke (mysql_migration_runner.clj:25)
;     clojure.core$partial$fn__5908.invoke (core.clj:2641)
;     clojure.lang.AFn.applyToHelper (AFn.java:154)
;     clojure.lang.RestFn.applyTo (RestFn.java:132)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (mysql_migration_runner.clj:18)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (mysql_migration_runner.clj:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval15140$make_mysql_migration_runner__15145$fn$reify__15147.execute_BANG_ (mysql_migration_runner.clj:43)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12491__12514.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12490__12518.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571$fn__12572.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval12721$run_next_BANG___12726$fn__12730$fn__12735.invoke (migrations.clj:38)
;     eboshi.services.migrations$eval12721$run_next_BANG___12726$fn__12730.invoke (migrations.clj:38)
;     eboshi.services.migrations$eval12721$run_next_BANG___12726.invoke (migrations.clj:30)
;     eboshi.services.migrations$eval12784$up_BANG___12789$fn__12790.invoke (migrations.clj:50)
;     eboshi.services.migrations$eval12784$up_BANG___12789.invoke (migrations.clj:47)
;     eboshi.integration.services.mysql_migrations$fn__16045.invokeStatic (NO_SOURCE_FILE:75)
;     eboshi.integration.services.mysql_migrations/fn (NO_SOURCE_FILE:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval15916$fn__15917.invoke (mysql_migrations.clj:53)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval16079.invokeStatic (NO_SOURCE_FILE:79)
;     eboshi.integration.services.mysql_migrations$eval16079.invoke (NO_SOURCE_FILE:79)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 6, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; Evaluating file: migrations.clj
#'eboshi.services.migrations/sync!
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: migrations.clj
#'eboshi.services.migrations/sync!
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: mysql_migrations.clj
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/db-spec
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; ERROR in (up-migration-test) (EdnReader.java:801)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.lang.RuntimeException: No reader function for tag function
;  at clojure.lang.EdnReader$TaggedReader.readTagged (EdnReader.java:801)
;     clojure.lang.EdnReader$TaggedReader.invoke (EdnReader.java:783)
;     clojure.lang.EdnReader$DispatchReader.invoke (EdnReader.java:549)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$VectorReader.invoke (EdnReader.java:672)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$MapReader.invoke (EdnReader.java:680)
;     clojure.lang.EdnReader.read (EdnReader.java:145)
;     clojure.lang.EdnReader.read (EdnReader.java:111)
;     clojure.lang.EdnReader.readString (EdnReader.java:67)
;     clojure.edn$read_string.invokeStatic (edn.clj:46)
;     clojure.edn$read_string.invokeStatic (edn.clj:37)
;     clojure.edn$read_string.invoke (edn.clj:37)
;     eboshi.services.migrations$eval16304$make_migration_from_file__16309$fn__16310.invoke (migrations.clj:15)
;     eboshi.services.migrations$eval16304$make_migration_from_file__16309.invoke (migrations.clj:11)
;     eboshi.services.migrations$eval16387$up_BANG___16392$fn__16396.invoke (migrations.clj:43)
;     eboshi.services.migrations$eval16387$up_BANG___16392.invoke (migrations.clj:37)
;     eboshi.integration.services.mysql_migrations$fn__16548.invokeStatic (NO_SOURCE_FILE:68)
;     eboshi.integration.services.mysql_migrations/fn (NO_SOURCE_FILE:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval16508$fn__16509.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval16581.invokeStatic (NO_SOURCE_FILE:80)
;     eboshi.integration.services.mysql_migrations$eval16581.invoke (NO_SOURCE_FILE:80)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 2 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 1, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.services.migrations/up!
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: migrations.clj
#'eboshi.services.migrations/sync!
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: mysql_migrations.clj
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; ERROR in (up-migration-test) (EdnReader.java:801)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.lang.RuntimeException: No reader function for tag function
;  at clojure.lang.EdnReader$TaggedReader.readTagged (EdnReader.java:801)
;     clojure.lang.EdnReader$TaggedReader.invoke (EdnReader.java:783)
;     clojure.lang.EdnReader$DispatchReader.invoke (EdnReader.java:549)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$VectorReader.invoke (EdnReader.java:672)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$MapReader.invoke (EdnReader.java:680)
;     clojure.lang.EdnReader.read (EdnReader.java:145)
;     clojure.lang.EdnReader.read (EdnReader.java:111)
;     clojure.lang.EdnReader.readString (EdnReader.java:67)
;     clojure.edn$read_string.invokeStatic (edn.clj:46)
;     clojure.edn$read_string.invokeStatic (edn.clj:37)
;     clojure.edn$read_string.invoke (edn.clj:37)
;     eboshi.services.migrations$eval16650$make_migration_from_file__16655$fn__16656.invoke (migrations.clj:15)
;     eboshi.services.migrations$eval16650$make_migration_from_file__16655.invoke (migrations.clj:11)
;     eboshi.services.migrations$eval16733$up_BANG___16738$fn__16742.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval16733$up_BANG___16738.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__16859.invokeStatic (mysql_migrations.clj:68)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval16854$fn__16855.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval16893.invokeStatic (NO_SOURCE_FILE:80)
;     eboshi.integration.services.mysql_migrations$eval16893.invoke (NO_SOURCE_FILE:80)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 2 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 1, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.services.migrations/up!
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: migrations.clj
#'eboshi.services.migrations/sync!
clj꞉eboshi.services.migrations꞉> 
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; ERROR in (up-migration-test) (EdnReader.java:801)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.lang.RuntimeException: No reader function for tag function
;  at clojure.lang.EdnReader$TaggedReader.readTagged (EdnReader.java:801)
;     clojure.lang.EdnReader$TaggedReader.invoke (EdnReader.java:783)
;     clojure.lang.EdnReader$DispatchReader.invoke (EdnReader.java:549)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$VectorReader.invoke (EdnReader.java:672)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$MapReader.invoke (EdnReader.java:680)
;     clojure.lang.EdnReader.read (EdnReader.java:145)
;     clojure.lang.EdnReader.read (EdnReader.java:111)
;     clojure.lang.EdnReader.readString (EdnReader.java:67)
;     clojure.edn$read_string.invokeStatic (edn.clj:46)
;     clojure.edn$read_string.invokeStatic (edn.clj:37)
;     clojure.edn$read_string.invoke (edn.clj:37)
;     eboshi.services.migrations$eval16963$make_migration_from_file__16968$fn__16969.invoke (migrations.clj:15)
;     eboshi.services.migrations$eval16963$make_migration_from_file__16968.invoke (migrations.clj:11)
;     eboshi.services.migrations$eval17046$up_BANG___17051$fn__17055.invoke (migrations.clj:43)
;     eboshi.services.migrations$eval17046$up_BANG___17051.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__17192.invokeStatic (mysql_migrations.clj:68)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval17187$fn__17188.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval17226.invokeStatic (mysql_migrations.clj:80)
;     eboshi.integration.services.mysql_migrations$eval17226.invoke (mysql_migrations.clj:80)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     clojure.lang.Compiler.load (Compiler.java:7653)
;     eboshi.core$eval17162.invokeStatic (NO_SOURCE_FILE:1)
;     eboshi.core$eval17162.invoke (NO_SOURCE_FILE:1)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 2 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 1, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; ERROR in (up-migration-test) (EdnReader.java:801)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.lang.RuntimeException: No reader function for tag function
;  at clojure.lang.EdnReader$TaggedReader.readTagged (EdnReader.java:801)
;     clojure.lang.EdnReader$TaggedReader.invoke (EdnReader.java:783)
;     clojure.lang.EdnReader$DispatchReader.invoke (EdnReader.java:549)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$VectorReader.invoke (EdnReader.java:672)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$MapReader.invoke (EdnReader.java:680)
;     clojure.lang.EdnReader.read (EdnReader.java:145)
;     clojure.lang.EdnReader.read (EdnReader.java:111)
;     clojure.lang.EdnReader.readString (EdnReader.java:67)
;     clojure.edn$read_string.invokeStatic (edn.clj:46)
;     clojure.edn$read_string.invokeStatic (edn.clj:37)
;     clojure.edn$read_string.invoke (edn.clj:37)
;     eboshi.services.migrations$eval16963$make_migration_from_file__16968$fn__16969.invoke (migrations.clj:15)
;     eboshi.services.migrations$eval16963$make_migration_from_file__16968.invoke (migrations.clj:11)
;     eboshi.services.migrations$eval17046$up_BANG___17051$fn__17055.invoke (migrations.clj:43)
;     eboshi.services.migrations$eval17046$up_BANG___17051.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__17192.invokeStatic (mysql_migrations.clj:68)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval17187$fn__17188.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval17228.invokeStatic (NO_SOURCE_FILE:80)
;     eboshi.integration.services.mysql_migrations$eval17228.invoke (NO_SOURCE_FILE:80)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 2 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 1, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; Evaluating file: migrations.clj
#'eboshi.services.migrations/sync!
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; ERROR in (up-migration-test) (EdnReader.java:801)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.lang.RuntimeException: No reader function for tag function
;  at clojure.lang.EdnReader$TaggedReader.readTagged (EdnReader.java:801)
;     clojure.lang.EdnReader$TaggedReader.invoke (EdnReader.java:783)
;     clojure.lang.EdnReader$DispatchReader.invoke (EdnReader.java:549)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$VectorReader.invoke (EdnReader.java:672)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$MapReader.invoke (EdnReader.java:680)
;     clojure.lang.EdnReader.read (EdnReader.java:145)
;     clojure.lang.EdnReader.read (EdnReader.java:111)
;     clojure.lang.EdnReader.readString (EdnReader.java:67)
;     clojure.edn$read_string.invokeStatic (edn.clj:46)
;     clojure.edn$read_string.invokeStatic (edn.clj:37)
;     clojure.edn$read_string.invoke (edn.clj:37)
;     eboshi.services.migrations$eval17251$make_migration_from_file__17256$fn__17257.invoke (migrations.clj:15)
;     eboshi.services.migrations$eval17251$make_migration_from_file__17256.invoke (migrations.clj:11)
;     eboshi.services.migrations$eval17334$up_BANG___17339$fn__17343.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval17334$up_BANG___17339.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__17460.invokeStatic (mysql_migrations.clj:68)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval17455$fn__17456.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval17494.invokeStatic (mysql_migrations.clj:79)
;     eboshi.integration.services.mysql_migrations$eval17494.invoke (mysql_migrations.clj:79)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     clojure.lang.Compiler.load (Compiler.java:7653)
;     eboshi.core$eval17430.invokeStatic (NO_SOURCE_FILE:1)
;     eboshi.core$eval17430.invoke (NO_SOURCE_FILE:1)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 2 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 1, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.services.migrations/up!
clj꞉eboshi.services.migrations꞉> 
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
true
clj꞉eboshi.services.migrations꞉> 
; 
; ERROR in (up-migration-test) (EdnReader.java:801)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.lang.RuntimeException: No reader function for tag function
;  at clojure.lang.EdnReader$TaggedReader.readTagged (EdnReader.java:801)
;     clojure.lang.EdnReader$TaggedReader.invoke (EdnReader.java:783)
;     clojure.lang.EdnReader$DispatchReader.invoke (EdnReader.java:549)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$VectorReader.invoke (EdnReader.java:672)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$MapReader.invoke (EdnReader.java:680)
;     clojure.lang.EdnReader.read (EdnReader.java:145)
;     clojure.lang.EdnReader.read (EdnReader.java:111)
;     clojure.lang.EdnReader.readString (EdnReader.java:67)
;     clojure.edn$read_string.invokeStatic (edn.clj:46)
;     clojure.edn$read_string.invokeStatic (edn.clj:37)
;     clojure.edn$read_string.invoke (edn.clj:37)
;     eboshi.services.migrations$eval17251$make_migration_from_file__17256$fn__17257.invoke (migrations.clj:15)
;     eboshi.services.migrations$eval17251$make_migration_from_file__17256.invoke (migrations.clj:11)
;     eboshi.services.migrations$eval17523$up_BANG___17528$fn__17529.invoke (NO_SOURCE_FILE:43)
;     eboshi.services.migrations$eval17523$up_BANG___17528.invoke (NO_SOURCE_FILE:36)
;     eboshi.integration.services.mysql_migrations$fn__17554.invokeStatic (NO_SOURCE_FILE:68)
;     eboshi.integration.services.mysql_migrations/fn (NO_SOURCE_FILE:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval17455$fn__17456.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval17587.invokeStatic (NO_SOURCE_FILE:79)
;     eboshi.integration.services.mysql_migrations$eval17587.invoke (NO_SOURCE_FILE:79)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 2 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 1, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.services.migrations/up!
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; ERROR in (up-migration-test) (EdnReader.java:801)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.lang.RuntimeException: No reader function for tag function
;  at clojure.lang.EdnReader$TaggedReader.readTagged (EdnReader.java:801)
;     clojure.lang.EdnReader$TaggedReader.invoke (EdnReader.java:783)
;     clojure.lang.EdnReader$DispatchReader.invoke (EdnReader.java:549)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$VectorReader.invoke (EdnReader.java:672)
;     clojure.lang.EdnReader.readDelimitedList (EdnReader.java:757)
;     clojure.lang.EdnReader$MapReader.invoke (EdnReader.java:680)
;     clojure.lang.EdnReader.read (EdnReader.java:145)
;     clojure.lang.EdnReader.read (EdnReader.java:111)
;     clojure.lang.EdnReader.readString (EdnReader.java:67)
;     clojure.edn$read_string.invokeStatic (edn.clj:46)
;     clojure.edn$read_string.invokeStatic (edn.clj:37)
;     clojure.edn$read_string.invoke (edn.clj:37)
;     eboshi.services.migrations$eval17251$make_migration_from_file__17256$fn__17257.invoke (migrations.clj:15)
;     eboshi.services.migrations$eval17251$make_migration_from_file__17256.invoke (migrations.clj:11)
;     eboshi.services.migrations$eval17628$up_BANG___17633$fn__17637.invoke (NO_SOURCE_FILE:41)
;     eboshi.services.migrations$eval17628$up_BANG___17633.invoke (NO_SOURCE_FILE:36)
;     eboshi.integration.services.mysql_migrations$fn__17685.invokeStatic (mysql_migrations.clj:68)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval17680$fn__17681.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval17719.invokeStatic (mysql_migrations.clj:79)
;     eboshi.integration.services.mysql_migrations$eval17719.invoke (mysql_migrations.clj:79)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     clojure.lang.Compiler.load (Compiler.java:7653)
;     eboshi.core$eval17655.invokeStatic (NO_SOURCE_FILE:1)
;     eboshi.core$eval17655.invoke (NO_SOURCE_FILE:1)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 2 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 1, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/dummy-migrations
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; ERROR in (up-migration-test) (SQLError.java:109)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1Createt_1Table' for key 'eboshi_migrations.PRIMARY'
;  at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException (SQLError.java:109)
;     com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException (SQLExceptionsMapping.java:114)
;     com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal (ClientPreparedStatement.java:988)
;     com.mysql.cj.jdbc.ClientPreparedStatement.execute (ClientPreparedStatement.java:383)
;     next.jdbc.result_set$stmt__GT_result_set.invokeStatic (result_set.clj:675)
;     next.jdbc.result_set$stmt__GT_result_set.invoke (result_set.clj:670)
;     next.jdbc.result_set$eval14690$fn__14695.invoke (result_set.clj:888)
;     next.jdbc.protocols$eval13728$fn__13759$G__13717__13768.invoke (protocols.clj:34)
;     next.jdbc$execute_one_BANG_.invokeStatic (jdbc.clj:293)
;     next.jdbc$execute_one_BANG_.invoke (jdbc.clj:275)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:42)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:39)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112$fn__15113$fn__15114.invoke (mysql_migration_runner.clj:31)
;     next.jdbc.transaction$transact_STAR_.invokeStatic (transaction.clj:72)
;     next.jdbc.transaction$transact_STAR_.invoke (transaction.clj:51)
;     next.jdbc.transaction$eval14879$fn__14880.invoke (transaction.clj:135)
;     next.jdbc.protocols$eval13818$fn__13819$G__13809__13828.invoke (protocols.clj:58)
;     next.jdbc$transact.invokeStatic (jdbc.clj:433)
;     next.jdbc$transact.invoke (jdbc.clj:425)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112$fn__15113.invoke (mysql_migration_runner.clj:27)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112.invoke (mysql_migration_runner.clj:25)
;     clojure.core$partial$fn__5908.invoke (core.clj:2641)
;     clojure.lang.AFn.applyToHelper (AFn.java:154)
;     clojure.lang.RestFn.applyTo (RestFn.java:132)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (mysql_migration_runner.clj:18)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (mysql_migration_runner.clj:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval15140$make_mysql_migration_runner__15145$fn$reify__15147.execute_BANG_ (mysql_migration_runner.clj:43)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12491__12514.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12490__12518.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571$fn__12572.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval17628$up_BANG___17633$fn__17637$fn__17639.invoke (NO_SOURCE_FILE:42)
;     eboshi.services.migrations$eval17628$up_BANG___17633$fn__17637.invoke (NO_SOURCE_FILE:42)
;     eboshi.services.migrations$eval17628$up_BANG___17633.invoke (NO_SOURCE_FILE:36)
;     eboshi.integration.services.mysql_migrations$fn__17752.invokeStatic (mysql_migrations.clj:75)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval17747$fn__17748.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval17786.invokeStatic (mysql_migrations.clj:79)
;     eboshi.integration.services.mysql_migrations$eval17786.invoke (mysql_migrations.clj:79)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     clojure.lang.Compiler.load (Compiler.java:7653)
;     eboshi.core$eval17722.invokeStatic (NO_SOURCE_FILE:1)
;     eboshi.core$eval17722.invoke (NO_SOURCE_FILE:1)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 6, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; java.lang.RuntimeException: Unable to resolve symbol: mysql-container in this context
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; java.lang.RuntimeException: Unable to resolve symbol: mysql-container in this context
clj꞉eboshi.integration.services.mysql-migrations꞉> 
{:jdbcUrl "jdbc:mysql://localhost:32781/eboshi", :user "test", :password "test", :dbname "eboshi"}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; ERROR in (up-migration-test) (SQLError.java:109)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1Createt_1Table' for key 'eboshi_migrations.PRIMARY'
;  at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException (SQLError.java:109)
;     com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException (SQLExceptionsMapping.java:114)
;     com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal (ClientPreparedStatement.java:988)
;     com.mysql.cj.jdbc.ClientPreparedStatement.execute (ClientPreparedStatement.java:383)
;     next.jdbc.result_set$stmt__GT_result_set.invokeStatic (result_set.clj:675)
;     next.jdbc.result_set$stmt__GT_result_set.invoke (result_set.clj:670)
;     next.jdbc.result_set$eval14690$fn__14695.invoke (result_set.clj:888)
;     next.jdbc.protocols$eval13728$fn__13759$G__13717__13768.invoke (protocols.clj:34)
;     next.jdbc$execute_one_BANG_.invokeStatic (jdbc.clj:293)
;     next.jdbc$execute_one_BANG_.invoke (jdbc.clj:275)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:42)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:39)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112$fn__15113$fn__15114.invoke (mysql_migration_runner.clj:31)
;     next.jdbc.transaction$transact_STAR_.invokeStatic (transaction.clj:72)
;     next.jdbc.transaction$transact_STAR_.invoke (transaction.clj:51)
;     next.jdbc.transaction$eval14879$fn__14880.invoke (transaction.clj:135)
;     next.jdbc.protocols$eval13818$fn__13819$G__13809__13828.invoke (protocols.clj:58)
;     next.jdbc$transact.invokeStatic (jdbc.clj:433)
;     next.jdbc$transact.invoke (jdbc.clj:425)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112$fn__15113.invoke (mysql_migration_runner.clj:27)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112.invoke (mysql_migration_runner.clj:25)
;     clojure.core$partial$fn__5908.invoke (core.clj:2641)
;     clojure.lang.AFn.applyToHelper (AFn.java:154)
;     clojure.lang.RestFn.applyTo (RestFn.java:132)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (mysql_migration_runner.clj:18)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (mysql_migration_runner.clj:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval15140$make_mysql_migration_runner__15145$fn$reify__15147.execute_BANG_ (mysql_migration_runner.clj:43)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12491__12514.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12490__12518.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571$fn__12572.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval17628$up_BANG___17633$fn__17637$fn__17639.invoke (NO_SOURCE_FILE:42)
;     eboshi.services.migrations$eval17628$up_BANG___17633$fn__17637.invoke (NO_SOURCE_FILE:42)
;     eboshi.services.migrations$eval17628$up_BANG___17633.invoke (NO_SOURCE_FILE:36)
;     eboshi.integration.services.mysql_migrations$fn__17823.invokeStatic (NO_SOURCE_FILE:75)
;     eboshi.integration.services.mysql_migrations/fn (NO_SOURCE_FILE:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval17747$fn__17748.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval17856.invokeStatic (NO_SOURCE_FILE:79)
;     eboshi.integration.services.mysql_migrations$eval17856.invoke (NO_SOURCE_FILE:79)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 6, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.services.migrations/get-remaining-migrations-names
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: mysql_migrations.clj
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
nil
clj꞉eboshi.services.migrations꞉> 
; java.lang.RuntimeException: No such namespace: jdbc
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; java.lang.RuntimeException: No such namespace: jdbc
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; Evaluating file: mysql_migration_runner.clj
; java.lang.RuntimeException: No such namespace: jdbc
clj꞉eboshi.infra.mysql-migration-runner꞉> 
nil
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; java.lang.RuntimeException: No such namespace: jdbc
clj꞉eboshi.infra.mysql-migration-runner꞉> 
nil
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; java.lang.RuntimeException: No such namespace: jdbc
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; Evaluating file: mysql_migration_runner.clj
; java.lang.RuntimeException: No such namespace: jdbc
clj꞉eboshi.infra.mysql-migration-runner꞉> 
nil
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; java.lang.RuntimeException: No such namespace: jdbc
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; 
; ERROR in (up-migration-test) (SQLError.java:109)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1Createt_1Table' for key 'eboshi_migrations.PRIMARY'
;  at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException (SQLError.java:109)
;     com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException (SQLExceptionsMapping.java:114)
;     com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal (ClientPreparedStatement.java:988)
;     com.mysql.cj.jdbc.ClientPreparedStatement.execute (ClientPreparedStatement.java:383)
;     next.jdbc.result_set$stmt__GT_result_set.invokeStatic (result_set.clj:675)
;     next.jdbc.result_set$stmt__GT_result_set.invoke (result_set.clj:670)
;     next.jdbc.result_set$eval14690$fn__14695.invoke (result_set.clj:888)
;     next.jdbc.protocols$eval13728$fn__13759$G__13717__13768.invoke (protocols.clj:34)
;     next.jdbc$execute_one_BANG_.invokeStatic (jdbc.clj:293)
;     next.jdbc$execute_one_BANG_.invoke (jdbc.clj:275)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:42)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:39)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112$fn__15113$fn__15114.invoke (mysql_migration_runner.clj:31)
;     next.jdbc.transaction$transact_STAR_.invokeStatic (transaction.clj:72)
;     next.jdbc.transaction$transact_STAR_.invoke (transaction.clj:51)
;     next.jdbc.transaction$eval14879$fn__14880.invoke (transaction.clj:135)
;     next.jdbc.protocols$eval13818$fn__13819$G__13809__13828.invoke (protocols.clj:58)
;     next.jdbc$transact.invokeStatic (jdbc.clj:433)
;     next.jdbc$transact.invoke (jdbc.clj:425)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112$fn__15113.invoke (mysql_migration_runner.clj:27)
;     eboshi.infra.mysql_migration_runner$eval15107$execute_BANG___15112.invoke (mysql_migration_runner.clj:25)
;     clojure.core$partial$fn__5908.invoke (core.clj:2641)
;     clojure.lang.AFn.applyToHelper (AFn.java:154)
;     clojure.lang.RestFn.applyTo (RestFn.java:132)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (mysql_migration_runner.clj:18)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (mysql_migration_runner.clj:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval15140$make_mysql_migration_runner__15145$fn$reify__15147.execute_BANG_ (mysql_migration_runner.clj:43)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12491__12514.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12490__12518.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571$fn__12572.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval17628$up_BANG___17633$fn__17637$fn__17639.invoke (NO_SOURCE_FILE:42)
;     eboshi.services.migrations$eval17628$up_BANG___17633$fn__17637.invoke (NO_SOURCE_FILE:42)
;     eboshi.services.migrations$eval17628$up_BANG___17633.invoke (NO_SOURCE_FILE:36)
;     eboshi.integration.services.mysql_migrations$fn__17971.invokeStatic (mysql_migrations.clj:74)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval17966$fn__17967.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval18005.invokeStatic (NO_SOURCE_FILE:78)
;     eboshi.integration.services.mysql_migrations$eval18005.invoke (NO_SOURCE_FILE:78)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
; 
; Execution error (NullPointerException) at java.util.Objects/requireNonNull (Objects.java:220).
; null
{:test 1, :pass 6, :fail 0, :error 1, :type :summary}
; Evaluation of file mysql_migration_runner.clj failed: class java.lang.NullPointerException
clj꞉eboshi.infra.mysql-migration-runner꞉> 
#'eboshi.infra.mysql-migration-runner/make-mysql-migration-runner
clj꞉eboshi.infra.mysql-migration-runner꞉> 
#'eboshi.services.migrations/get-remaining-migrations-names
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: mysql_migration_runner.clj
#'eboshi.infra.mysql-migration-runner/make-mysql-migration-runner
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; Evaluating file: migrations.clj
#'eboshi.services.migrations/sync!
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; ERROR in (up-migration-test) (SQLError.java:109)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1Createt_1Table' for key 'eboshi_migrations.PRIMARY'
;  at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException (SQLError.java:109)
;     com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException (SQLExceptionsMapping.java:114)
;     com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal (ClientPreparedStatement.java:988)
;     com.mysql.cj.jdbc.ClientPreparedStatement.execute (ClientPreparedStatement.java:383)
;     next.jdbc.result_set$stmt__GT_result_set.invokeStatic (result_set.clj:675)
;     next.jdbc.result_set$stmt__GT_result_set.invoke (result_set.clj:670)
;     next.jdbc.result_set$eval14690$fn__14695.invoke (result_set.clj:888)
;     next.jdbc.protocols$eval13728$fn__13759$G__13717__13768.invoke (protocols.clj:34)
;     next.jdbc$execute_one_BANG_.invokeStatic (jdbc.clj:293)
;     next.jdbc$execute_one_BANG_.invoke (jdbc.clj:275)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:42)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:39)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     eboshi.infra.mysql_migration_runner$eval18312$execute_BANG___18317$fn__18318$fn__18319.invoke (mysql_migration_runner.clj:32)
;     next.jdbc.transaction$transact_STAR_.invokeStatic (transaction.clj:72)
;     next.jdbc.transaction$transact_STAR_.invoke (transaction.clj:51)
;     next.jdbc.transaction$eval14879$fn__14880.invoke (transaction.clj:135)
;     next.jdbc.protocols$eval13818$fn__13819$G__13809__13828.invoke (protocols.clj:58)
;     next.jdbc$transact.invokeStatic (jdbc.clj:433)
;     next.jdbc$transact.invoke (jdbc.clj:425)
;     eboshi.infra.mysql_migration_runner$eval18312$execute_BANG___18317$fn__18318.invoke (mysql_migration_runner.clj:28)
;     eboshi.infra.mysql_migration_runner$eval18312$execute_BANG___18317.invoke (mysql_migration_runner.clj:26)
;     clojure.core$partial$fn__5908.invoke (core.clj:2641)
;     clojure.lang.AFn.applyToHelper (AFn.java:154)
;     clojure.lang.RestFn.applyTo (RestFn.java:132)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (mysql_migration_runner.clj:18)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (mysql_migration_runner.clj:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval18345$make_mysql_migration_runner__18350$fn$reify__18352.execute_BANG_ (mysql_migration_runner.clj:44)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12491__12514.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12490__12518.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571$fn__12572.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478$fn__18480.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__18594.invokeStatic (mysql_migrations.clj:74)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval18589$fn__18590.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval18628.invokeStatic (mysql_migrations.clj:78)
;     eboshi.integration.services.mysql_migrations$eval18628.invoke (mysql_migrations.clj:78)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     clojure.lang.Compiler.load (Compiler.java:7653)
;     eboshi.core$eval18564.invokeStatic (NO_SOURCE_FILE:1)
;     eboshi.core$eval18564.invoke (NO_SOURCE_FILE:1)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 6, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.infra.mysql-migration-runner/find-last-migration-name
clj꞉eboshi.infra.mysql-migration-runner꞉> 
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; #function[next.jdbc/execute-one!] #object[com.mysql.cj.jdbc.ConnectionImpl 0x4757d872 com.mysql.cj.jdbc.ConnectionImpl@4757d872] [select name from eboshi_migrations order by name desc limit 1;]
{:eboshi_migrations/name "1Createt_1Table"}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/find-last-migration-name
clj꞉eboshi.integration.services.mysql-migrations꞉> 
"1Createt_1Table"
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; ERROR in (up-migration-test) (SQLError.java:109)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1Createt_1Table' for key 'eboshi_migrations.PRIMARY'
;  at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException (SQLError.java:109)
;     com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException (SQLExceptionsMapping.java:114)
;     com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal (ClientPreparedStatement.java:988)
;     com.mysql.cj.jdbc.ClientPreparedStatement.execute (ClientPreparedStatement.java:383)
;     next.jdbc.result_set$stmt__GT_result_set.invokeStatic (result_set.clj:675)
;     next.jdbc.result_set$stmt__GT_result_set.invoke (result_set.clj:670)
;     next.jdbc.result_set$eval14690$fn__14695.invoke (result_set.clj:888)
;     next.jdbc.protocols$eval13728$fn__13759$G__13717__13768.invoke (protocols.clj:34)
;     next.jdbc$execute_one_BANG_.invokeStatic (jdbc.clj:293)
;     next.jdbc$execute_one_BANG_.invoke (jdbc.clj:275)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:42)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:39)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     eboshi.infra.mysql_migration_runner$eval18312$execute_BANG___18317$fn__18318$fn__18319.invoke (mysql_migration_runner.clj:32)
;     next.jdbc.transaction$transact_STAR_.invokeStatic (transaction.clj:72)
;     next.jdbc.transaction$transact_STAR_.invoke (transaction.clj:51)
;     next.jdbc.transaction$eval14879$fn__14880.invoke (transaction.clj:135)
;     next.jdbc.protocols$eval13818$fn__13819$G__13809__13828.invoke (protocols.clj:58)
;     next.jdbc$transact.invokeStatic (jdbc.clj:433)
;     next.jdbc$transact.invoke (jdbc.clj:425)
;     eboshi.infra.mysql_migration_runner$eval18312$execute_BANG___18317$fn__18318.invoke (mysql_migration_runner.clj:28)
;     eboshi.infra.mysql_migration_runner$eval18312$execute_BANG___18317.invoke (mysql_migration_runner.clj:26)
;     clojure.core$partial$fn__5908.invoke (core.clj:2641)
;     clojure.lang.AFn.applyToHelper (AFn.java:154)
;     clojure.lang.RestFn.applyTo (RestFn.java:132)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (mysql_migration_runner.clj:18)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (mysql_migration_runner.clj:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval18345$make_mysql_migration_runner__18350$fn$reify__18352.execute_BANG_ (mysql_migration_runner.clj:44)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12491__12514.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12490__12518.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571$fn__12572.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478$fn__18480.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__18676.invokeStatic (NO_SOURCE_FILE:76)
;     eboshi.integration.services.mysql_migrations/fn (NO_SOURCE_FILE:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval18589$fn__18590.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval18709.invokeStatic (NO_SOURCE_FILE:80)
;     eboshi.integration.services.mysql_migrations$eval18709.invoke (NO_SOURCE_FILE:80)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 6, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.services.migrations/get-remaining-migrations-names
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: mysql_migration_runner.clj
#'eboshi.infra.mysql-migration-runner/make-mysql-migration-runner
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
nil
clj꞉eboshi.services.migrations꞉> 
nil
clj꞉eboshi.services.migrations꞉> 
; java.lang.RuntimeException: No such namespace: jdbc
clj꞉eboshi.integration.services.mysql-migrations꞉> 
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; java.lang.RuntimeException: No such namespace: jdbc
clj꞉eboshi.integration.services.mysql-migrations꞉> 
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.services.migrations/find-last-migration-name
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; java.lang.RuntimeException: Unable to resolve symbol: *db-spec* in this context
clj꞉eboshi.integration.services.mysql-migrations꞉> 
nil
clj꞉eboshi.services.migrations꞉> 
#'eboshi.services.migrations/find-last-migration-name
clj꞉eboshi.services.migrations꞉> 
; java.net.ConnectException: Connection refused
clj꞉eboshi.services.migrations꞉> 
nil
clj꞉eboshi.services.migrations꞉> 
; #:eboshi_migrations{:name 1Createt_1Table}
nil
clj꞉eboshi.services.migrations꞉> 
#'eboshi.services.migrations/find-last-migration-name
clj꞉eboshi.services.migrations꞉> 
"1Createt_1Table"
clj꞉eboshi.services.migrations꞉> 
nil
clj꞉eboshi.services.migrations꞉> 
#'eboshi.services.migrations/within-migrations-context!
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; 
; ERROR in (up-migration-test) (SQLError.java:109)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1Createt_1Table' for key 'eboshi_migrations.PRIMARY'
;  at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException (SQLError.java:109)
;     com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException (SQLExceptionsMapping.java:114)
;     com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal (ClientPreparedStatement.java:988)
;     com.mysql.cj.jdbc.ClientPreparedStatement.execute (ClientPreparedStatement.java:383)
;     next.jdbc.result_set$stmt__GT_result_set.invokeStatic (result_set.clj:675)
;     next.jdbc.result_set$stmt__GT_result_set.invoke (result_set.clj:670)
;     next.jdbc.result_set$eval14690$fn__14695.invoke (result_set.clj:888)
;     next.jdbc.protocols$eval13728$fn__13759$G__13717__13768.invoke (protocols.clj:34)
;     next.jdbc$execute_one_BANG_.invokeStatic (jdbc.clj:293)
;     next.jdbc$execute_one_BANG_.invoke (jdbc.clj:275)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:42)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:39)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     eboshi.infra.mysql_migration_runner$eval18821$execute_BANG___18826$fn__18827$fn__18828.invoke (mysql_migration_runner.clj:31)
;     next.jdbc.transaction$transact_STAR_.invokeStatic (transaction.clj:72)
;     next.jdbc.transaction$transact_STAR_.invoke (transaction.clj:51)
;     next.jdbc.transaction$eval14879$fn__14880.invoke (transaction.clj:135)
;     next.jdbc.protocols$eval13818$fn__13819$G__13809__13828.invoke (protocols.clj:58)
;     next.jdbc$transact.invokeStatic (jdbc.clj:433)
;     next.jdbc$transact.invoke (jdbc.clj:425)
;     eboshi.infra.mysql_migration_runner$eval18821$execute_BANG___18826$fn__18827.invoke (mysql_migration_runner.clj:27)
;     eboshi.infra.mysql_migration_runner$eval18821$execute_BANG___18826.invoke (mysql_migration_runner.clj:25)
;     clojure.core$partial$fn__5908.invoke (core.clj:2641)
;     clojure.lang.AFn.applyToHelper (AFn.java:154)
;     clojure.lang.RestFn.applyTo (RestFn.java:132)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (mysql_migration_runner.clj:18)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (mysql_migration_runner.clj:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval18854$make_mysql_migration_runner__18859$fn$reify__18861.execute_BANG_ (mysql_migration_runner.clj:43)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12491__12514.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12490__12518.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571$fn__12572.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478$fn__18480.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__18905.invokeStatic (mysql_migrations.clj:76)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval18900$fn__18901.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval18939.invokeStatic (mysql_migrations.clj:80)
;     eboshi.integration.services.mysql_migrations$eval18939.invoke (mysql_migrations.clj:80)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     clojure.lang.Compiler.load (Compiler.java:7653)
;     eboshi.core$eval18875.invokeStatic (NO_SOURCE_FILE:1)
;     eboshi.core$eval18875.invoke (NO_SOURCE_FILE:1)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
#'eboshi.integration.services.mysql-migrations/find-last-migration-name
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
; #:eboshi_migrations{:name 1Createt_1Table}
; 
; ERROR in (up-migration-test) (SQLError.java:109)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1Createt_1Table' for key 'eboshi_migrations.PRIMARY'
;  at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException (SQLError.java:109)
;     com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException (SQLExceptionsMapping.java:114)
;     com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal (ClientPreparedStatement.java:988)
;     com.mysql.cj.jdbc.ClientPreparedStatement.execute (ClientPreparedStatement.java:383)
;     next.jdbc.result_set$stmt__GT_result_set.invokeStatic (result_set.clj:675)
;     next.jdbc.result_set$stmt__GT_result_set.invoke (result_set.clj:670)
;     next.jdbc.result_set$eval14690$fn__14695.invoke (result_set.clj:888)
;     next.jdbc.protocols$eval13728$fn__13759$G__13717__13768.invoke (protocols.clj:34)
;     next.jdbc$execute_one_BANG_.invokeStatic (jdbc.clj:293)
;     next.jdbc$execute_one_BANG_.invoke (jdbc.clj:275)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:42)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:39)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     eboshi.infra.mysql_migration_runner$eval18821$execute_BANG___18826$fn__18827$fn__18828.invoke (mysql_migration_runner.clj:31)
;     next.jdbc.transaction$transact_STAR_.invokeStatic (transaction.clj:72)
;     next.jdbc.transaction$transact_STAR_.invoke (transaction.clj:51)
;     next.jdbc.transaction$eval14879$fn__14880.invoke (transaction.clj:135)
;     next.jdbc.protocols$eval13818$fn__13819$G__13809__13828.invoke (protocols.clj:58)
;     next.jdbc$transact.invokeStatic (jdbc.clj:433)
;     next.jdbc$transact.invoke (jdbc.clj:425)
;     eboshi.infra.mysql_migration_runner$eval18821$execute_BANG___18826$fn__18827.invoke (mysql_migration_runner.clj:27)
;     eboshi.infra.mysql_migration_runner$eval18821$execute_BANG___18826.invoke (mysql_migration_runner.clj:25)
;     clojure.core$partial$fn__5908.invoke (core.clj:2641)
;     clojure.lang.AFn.applyToHelper (AFn.java:154)
;     clojure.lang.RestFn.applyTo (RestFn.java:132)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (mysql_migration_runner.clj:18)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (mysql_migration_runner.clj:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval18854$make_mysql_migration_runner__18859$fn$reify__18861.execute_BANG_ (mysql_migration_runner.clj:43)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12491__12514.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12490__12518.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571$fn__12572.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478$fn__18480.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__19081.invokeStatic (mysql_migrations.clj:76)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval19076$fn__19077.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval19115.invokeStatic (mysql_migrations.clj:80)
;     eboshi.integration.services.mysql_migrations$eval19115.invoke (mysql_migrations.clj:80)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     clojure.lang.Compiler.load (Compiler.java:7653)
;     eboshi.core$eval19051.invokeStatic (NO_SOURCE_FILE:1)
;     eboshi.core$eval19051.invoke (NO_SOURCE_FILE:1)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
; 
; Testing eboshi.integration.services.mysql-migrations
{:test 1, :pass 6, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; #:eboshi_migrations{:name 1Createt_1Table}
; 
; ERROR in (up-migration-test) (SQLError.java:109)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1Createt_1Table' for key 'eboshi_migrations.PRIMARY'
;  at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException (SQLError.java:109)
;     com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException (SQLExceptionsMapping.java:114)
;     com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal (ClientPreparedStatement.java:988)
;     com.mysql.cj.jdbc.ClientPreparedStatement.execute (ClientPreparedStatement.java:383)
;     next.jdbc.result_set$stmt__GT_result_set.invokeStatic (result_set.clj:675)
;     next.jdbc.result_set$stmt__GT_result_set.invoke (result_set.clj:670)
;     next.jdbc.result_set$eval14690$fn__14695.invoke (result_set.clj:888)
;     next.jdbc.protocols$eval13728$fn__13759$G__13717__13768.invoke (protocols.clj:34)
;     next.jdbc$execute_one_BANG_.invokeStatic (jdbc.clj:293)
;     next.jdbc$execute_one_BANG_.invoke (jdbc.clj:275)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:42)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:39)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     eboshi.infra.mysql_migration_runner$eval18821$execute_BANG___18826$fn__18827$fn__18828.invoke (mysql_migration_runner.clj:31)
;     next.jdbc.transaction$transact_STAR_.invokeStatic (transaction.clj:72)
;     next.jdbc.transaction$transact_STAR_.invoke (transaction.clj:51)
;     next.jdbc.transaction$eval14879$fn__14880.invoke (transaction.clj:135)
;     next.jdbc.protocols$eval13818$fn__13819$G__13809__13828.invoke (protocols.clj:58)
;     next.jdbc$transact.invokeStatic (jdbc.clj:433)
;     next.jdbc$transact.invoke (jdbc.clj:425)
;     eboshi.infra.mysql_migration_runner$eval18821$execute_BANG___18826$fn__18827.invoke (mysql_migration_runner.clj:27)
;     eboshi.infra.mysql_migration_runner$eval18821$execute_BANG___18826.invoke (mysql_migration_runner.clj:25)
;     clojure.core$partial$fn__5908.invoke (core.clj:2641)
;     clojure.lang.AFn.applyToHelper (AFn.java:154)
;     clojure.lang.RestFn.applyTo (RestFn.java:132)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (mysql_migration_runner.clj:18)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (mysql_migration_runner.clj:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval18854$make_mysql_migration_runner__18859$fn$reify__18861.execute_BANG_ (mysql_migration_runner.clj:43)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12491__12514.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12490__12518.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571$fn__12572.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478$fn__18480.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__19081.invokeStatic (mysql_migrations.clj:76)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval19076$fn__19077.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval19117.invokeStatic (NO_SOURCE_FILE:80)
;     eboshi.integration.services.mysql_migrations$eval19117.invoke (NO_SOURCE_FILE:80)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 6, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
#'eboshi.services.migrations/get-remaining-migrations-names
clj꞉eboshi.services.migrations꞉> 
; #:eboshi_migrations{:name 1Createt_1Table}
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#object[eboshi.infra.mysql_migration_runner$eval18854$make_mysql_migration_runner__18859$fn$reify__18861 0x2acc3929 "eboshi.infra.mysql_migration_runner$eval18854$make_mysql_migration_runner__18859$fn$reify__18861@2acc3929"]
clj꞉eboshi.integration.services.mysql-migrations꞉> 
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; ERROR in (up-migration-test) (debug.clj:137)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.lang.NullPointerException: Cannot invoke "java.lang.Thread.stop()"
;  at cider.nrepl.middleware.debug$abort_BANG_.invokeStatic (debug.clj:137)
;     cider.nrepl.middleware.debug$abort_BANG_.invoke (debug.clj:130)
;     cider.nrepl.middleware.debug$read_debug_command.invokeStatic (debug.clj:389)
;     cider.nrepl.middleware.debug$read_debug_command.invoke (debug.clj:315)
;     cider.nrepl.middleware.debug$break.invokeStatic (debug.clj:537)
;     cider.nrepl.middleware.debug$break.invoke (debug.clj:515)
;     eboshi.integration.services.mysql_migrations$fn__19120.invokeStatic (NO_SOURCE_FILE:67)
;     eboshi.integration.services.mysql_migrations/fn (NO_SOURCE_FILE:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval19076$fn__19077.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval19153.invokeStatic (NO_SOURCE_FILE:80)
;     eboshi.integration.services.mysql_migrations$eval19153.invoke (NO_SOURCE_FILE:80)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 2 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 1, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; Evaluating file: mysql_migration_runner.clj
#'eboshi.infra.mysql-migration-runner/make-mysql-migration-runner
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
; #:eboshi_migrations{:name 1Createt_1Table}
; 
; ERROR in (up-migration-test) (SQLError.java:109)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1Createt_1Table' for key 'eboshi_migrations.PRIMARY'
;  at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException (SQLError.java:109)
;     com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException (SQLExceptionsMapping.java:114)
;     com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal (ClientPreparedStatement.java:988)
;     com.mysql.cj.jdbc.ClientPreparedStatement.execute (ClientPreparedStatement.java:383)
;     next.jdbc.result_set$stmt__GT_result_set.invokeStatic (result_set.clj:675)
;     next.jdbc.result_set$stmt__GT_result_set.invoke (result_set.clj:670)
;     next.jdbc.result_set$eval14690$fn__14695.invoke (result_set.clj:888)
;     next.jdbc.protocols$eval13728$fn__13759$G__13717__13768.invoke (protocols.clj:34)
;     next.jdbc$execute_one_BANG_.invokeStatic (jdbc.clj:293)
;     next.jdbc$execute_one_BANG_.invoke (jdbc.clj:275)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:42)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:39)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     eboshi.infra.mysql_migration_runner$eval19268$execute_BANG___19273$fn__19274$fn__19275.invoke (mysql_migration_runner.clj:31)
;     next.jdbc.transaction$transact_STAR_.invokeStatic (transaction.clj:72)
;     next.jdbc.transaction$transact_STAR_.invoke (transaction.clj:51)
;     next.jdbc.transaction$eval14879$fn__14880.invoke (transaction.clj:135)
;     next.jdbc.protocols$eval13818$fn__13819$G__13809__13828.invoke (protocols.clj:58)
;     next.jdbc$transact.invokeStatic (jdbc.clj:433)
;     next.jdbc$transact.invoke (jdbc.clj:425)
;     eboshi.infra.mysql_migration_runner$eval19268$execute_BANG___19273$fn__19274.invoke (mysql_migration_runner.clj:27)
;     eboshi.infra.mysql_migration_runner$eval19268$execute_BANG___19273.invoke (mysql_migration_runner.clj:25)
;     clojure.core$partial$fn__5908.invoke (core.clj:2641)
;     clojure.lang.AFn.applyToHelper (AFn.java:154)
;     clojure.lang.RestFn.applyTo (RestFn.java:132)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (mysql_migration_runner.clj:18)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (mysql_migration_runner.clj:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval19301$make_mysql_migration_runner__19306$fn$reify__19308.execute_BANG_ (mysql_migration_runner.clj:43)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12491__12514.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12490__12518.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571$fn__12572.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478$fn__18480.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__19352.invokeStatic (mysql_migrations.clj:77)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:61)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval19347$fn__19348.invoke (mysql_migrations.clj:55)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval19386.invokeStatic (mysql_migrations.clj:81)
;     eboshi.integration.services.mysql_migrations$eval19386.invoke (mysql_migrations.clj:81)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     clojure.lang.Compiler.load (Compiler.java:7653)
;     eboshi.core$eval19322.invokeStatic (NO_SOURCE_FILE:1)
;     eboshi.core$eval19322.invoke (NO_SOURCE_FILE:1)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 6, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; #:eboshi_migrations{:name 1Createt_1Table}
; 
; ERROR in (up-migration-test) (SQLError.java:109)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '1Createt_1Table' for key 'eboshi_migrations.PRIMARY'
;  at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException (SQLError.java:109)
;     com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException (SQLExceptionsMapping.java:114)
;     com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal (ClientPreparedStatement.java:988)
;     com.mysql.cj.jdbc.ClientPreparedStatement.execute (ClientPreparedStatement.java:383)
;     next.jdbc.result_set$stmt__GT_result_set.invokeStatic (result_set.clj:675)
;     next.jdbc.result_set$stmt__GT_result_set.invoke (result_set.clj:670)
;     next.jdbc.result_set$eval14690$fn__14695.invoke (result_set.clj:888)
;     next.jdbc.protocols$eval13728$fn__13759$G__13717__13768.invoke (protocols.clj:34)
;     next.jdbc$execute_one_BANG_.invokeStatic (jdbc.clj:293)
;     next.jdbc$execute_one_BANG_.invoke (jdbc.clj:275)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:42)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     next.jdbc.sql$insert_BANG_.invokeStatic (sql.clj:39)
;     next.jdbc.sql$insert_BANG_.invoke (sql.clj:32)
;     eboshi.infra.mysql_migration_runner$eval19268$execute_BANG___19273$fn__19274$fn__19275.invoke (mysql_migration_runner.clj:31)
;     next.jdbc.transaction$transact_STAR_.invokeStatic (transaction.clj:72)
;     next.jdbc.transaction$transact_STAR_.invoke (transaction.clj:51)
;     next.jdbc.transaction$eval14879$fn__14880.invoke (transaction.clj:135)
;     next.jdbc.protocols$eval13818$fn__13819$G__13809__13828.invoke (protocols.clj:58)
;     next.jdbc$transact.invokeStatic (jdbc.clj:433)
;     next.jdbc$transact.invoke (jdbc.clj:425)
;     eboshi.infra.mysql_migration_runner$eval19268$execute_BANG___19273$fn__19274.invoke (mysql_migration_runner.clj:27)
;     eboshi.infra.mysql_migration_runner$eval19268$execute_BANG___19273.invoke (mysql_migration_runner.clj:25)
;     clojure.core$partial$fn__5908.invoke (core.clj:2641)
;     clojure.lang.AFn.applyToHelper (AFn.java:154)
;     clojure.lang.RestFn.applyTo (RestFn.java:132)
;     clojure.core$apply.invokeStatic (core.clj:667)
;     clojure.core$apply.invoke (core.clj:662)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (mysql_migration_runner.clj:18)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (mysql_migration_runner.clj:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval19301$make_mysql_migration_runner__19306$fn$reify__19308.execute_BANG_ (mysql_migration_runner.clj:43)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12491__12514.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12511$G__12490__12518.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571$fn__12572.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12556$fn__12557$execute_BANG___12486__12571.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478$fn__18480.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478.invoke (migrations.clj:42)
;     eboshi.services.migrations$eval18469$up_BANG___18474.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__19352.invokeStatic (mysql_migrations.clj:77)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:61)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval19347$fn__19348.invoke (mysql_migrations.clj:55)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval19388.invokeStatic (NO_SOURCE_FILE:81)
;     eboshi.integration.services.mysql_migrations$eval19388.invoke (NO_SOURCE_FILE:81)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 6, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/up-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; #:eboshi_migrations{:name 1Createt_1Table}
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
"1Createt_1Table"
clj꞉eboshi.integration.services.mysql-migrations꞉> 
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; banana
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
"1Createt_1Table"
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/within-migrations-context!
clj꞉eboshi.integration.services.mysql-migrations꞉> 
{:jdbcUrl "jdbc:mysql://localhost:32791/eboshi", :user "test", :password "test", :dbname "eboshi"}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; java.lang.IllegalArgumentException: No implementation of method: :find-last-migration-name of protocol: #'eboshi.protocols.migration-runner/MigrationRunner found for class: com.mysql.cj.jdbc.ConnectionImpl
clj꞉eboshi.integration.services.mysql-migrations꞉> 
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/within-migrations-context!
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; ([#function[eboshi.infra.mysql-migration-runner/eval19242/find-last-migration-name--19247]])
; #function[eboshi.infra.mysql-migration-runner/eval19242/find-last-migration-name--19247] nil
nil
clj꞉eboshi.integration.services.mysql-migrations꞉> 
"1Createt_1Table"
clj꞉eboshi.integration.services.mysql-migrations꞉> 
"1Createt_1Table"
clj꞉eboshi.integration.services.mysql-migrations꞉> 
{:next.jdbc/update-count 0}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; java.lang.RuntimeException: Unable to resolve symbol: funcs in this context
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; ERROR in (up-migration-test) (debug.clj:137)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.lang.NullPointerException: Cannot invoke "java.lang.Thread.stop()"
;  at cider.nrepl.middleware.debug$abort_BANG_.invokeStatic (debug.clj:137)
;     cider.nrepl.middleware.debug$abort_BANG_.invoke (debug.clj:130)
;     cider.nrepl.middleware.debug$read_debug_command.invokeStatic (debug.clj:389)
;     cider.nrepl.middleware.debug$read_debug_command.invoke (debug.clj:315)
;     cider.nrepl.middleware.debug$break.invokeStatic (debug.clj:537)
;     cider.nrepl.middleware.debug$break.invoke (debug.clj:515)
;     eboshi.integration.services.mysql_migrations$fn__19391.invokeStatic (NO_SOURCE_FILE:68)
;     eboshi.integration.services.mysql_migrations/fn (NO_SOURCE_FILE:61)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval19347$fn__19348.invoke (mysql_migrations.clj:55)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval19424.invokeStatic (NO_SOURCE_FILE:81)
;     eboshi.integration.services.mysql_migrations$eval19424.invoke (NO_SOURCE_FILE:81)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 2 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 1, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.infra.mysql-migration-runner/within-migrations-context!
clj꞉eboshi.infra.mysql-migration-runner꞉> 
#'eboshi.infra.mysql-migration-runner/make-mysql-migration-runner
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; ERROR in (up-migration-test) (RT.java:557)
; It should return nil if there are no migrations pending
; expected: (nil? (services.migrations/up! *config* *runner*))
;   actual: java.lang.IllegalArgumentException: Don't know how to create ISeq from: eboshi.infra.mysql_migration_runner$eval19242$find_last_migration_name__19247
;  at clojure.lang.RT.seqFrom (RT.java:557)
;     clojure.lang.RT.seq (RT.java:537)
;     clojure.core$seq__5467.invokeStatic (core.clj:139)
;     clojure.core/seq (core.clj:139)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_$fn__19512.invoke (NO_SOURCE_FILE:15)
;     clojure.core$mapv$fn__8535.invoke (core.clj:6979)
;     clojure.lang.ArraySeq.reduce (ArraySeq.java:114)
;     clojure.core$reduce.invokeStatic (core.clj:6885)
;     clojure.core$mapv.invokeStatic (core.clj:6970)
;     clojure.core$mapv.invoke (core.clj:6970)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (NO_SOURCE_FILE:15)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (NO_SOURCE_FILE:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval19527$make_mysql_migration_runner__19532$fn$reify__19534.find_last_migration_name (NO_SOURCE_FILE:41)
;     eboshi.protocols.migration_runner$eval12499$fn__12500$G__12489__12502.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12500$G__12488__12505.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12529$fn__12530$find_last_migration_name__12483__12542$fn__12543.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12529$fn__12530$find_last_migration_name__12483__12542.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval19164$get_remaining_migrations_names__19176$fn__19177.invoke (NO_SOURCE_FILE:80)
;     eboshi.services.migrations$eval19164$get_remaining_migrations_names__19176.invoke (NO_SOURCE_FILE:80)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478.invoke (migrations.clj:39)
;     eboshi.services.migrations$eval18469$up_BANG___18474.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__19581$fn__19582.invoke (mysql_migrations.clj:63)
;     eboshi.integration.services.mysql_migrations$fn__19581.invokeStatic (mysql_migrations.clj:62)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:61)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval19576$fn__19577.invoke (mysql_migrations.clj:55)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval19615.invokeStatic (mysql_migrations.clj:79)
;     eboshi.integration.services.mysql_migrations$eval19615.invoke (mysql_migrations.clj:79)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     clojure.lang.Compiler.load (Compiler.java:7653)
;     eboshi.core$eval19551.invokeStatic (NO_SOURCE_FILE:1)
;     eboshi.core$eval19551.invoke (NO_SOURCE_FILE:1)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; ERROR in (up-migration-test) (RT.java:557)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.lang.IllegalArgumentException: Don't know how to create ISeq from: eboshi.infra.mysql_migration_runner$eval19242$find_last_migration_name__19247
;  at clojure.lang.RT.seqFrom (RT.java:557)
;     clojure.lang.RT.seq (RT.java:537)
;     clojure.core$seq__5467.invokeStatic (core.clj:139)
;     clojure.core/seq (core.clj:139)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_$fn__19512.invoke (NO_SOURCE_FILE:15)
;     clojure.core$mapv$fn__8535.invoke (core.clj:6979)
;     clojure.lang.ArraySeq.reduce (ArraySeq.java:114)
;     clojure.core$reduce.invokeStatic (core.clj:6885)
;     clojure.core$mapv.invokeStatic (core.clj:6970)
;     clojure.core$mapv.invoke (core.clj:6970)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.invokeStatic (NO_SOURCE_FILE:15)
;     eboshi.infra.mysql_migration_runner$within_migrations_context_BANG_.doInvoke (NO_SOURCE_FILE:9)
;     clojure.lang.RestFn.invoke (RestFn.java:423)
;     eboshi.infra.mysql_migration_runner$eval19527$make_mysql_migration_runner__19532$fn$reify__19534.find_last_migration_name (NO_SOURCE_FILE:41)
;     eboshi.protocols.migration_runner$eval12499$fn__12500$G__12489__12502.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12499$fn__12500$G__12488__12505.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12529$fn__12530$find_last_migration_name__12483__12542$fn__12543.invoke (migration_runner.clj:6)
;     eboshi.protocols.migration_runner$eval12529$fn__12530$find_last_migration_name__12483__12542.invoke (migration_runner.clj:6)
;     eboshi.services.migrations$eval19164$get_remaining_migrations_names__19176$fn__19177.invoke (NO_SOURCE_FILE:80)
;     eboshi.services.migrations$eval19164$get_remaining_migrations_names__19176.invoke (NO_SOURCE_FILE:80)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478.invoke (migrations.clj:39)
;     eboshi.services.migrations$eval18469$up_BANG___18474.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__19581.invokeStatic (mysql_migrations.clj:68)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:61)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval19576$fn__19577.invoke (mysql_migrations.clj:55)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval19615.invokeStatic (mysql_migrations.clj:79)
;     eboshi.integration.services.mysql_migrations$eval19615.invoke (mysql_migrations.clj:79)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     clojure.lang.Compiler.load (Compiler.java:7653)
;     eboshi.core$eval19551.invokeStatic (NO_SOURCE_FILE:1)
;     eboshi.core$eval19551.invoke (NO_SOURCE_FILE:1)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 2 assertions.
; 0 failures, 2 errors.
{:test 1, :pass 0, :fail 0, :error 2, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.infra.mysql-migration-runner/within-migrations-context!
clj꞉eboshi.infra.mysql-migration-runner꞉> 
#'eboshi.infra.mysql-migration-runner/within-migrations-context!
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; Evaluating file: mysql_migration_runner.clj
#'eboshi.infra.mysql-migration-runner/make-mysql-migration-runner
clj꞉eboshi.infra.mysql-migration-runner꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; ERROR in (up-migration-test) (Numbers.java:261)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.lang.ClassCastException: class java.lang.String cannot be cast to class java.lang.Number (java.lang.String and java.lang.Number are in module java.base of loader 'bootstrap')
;  at clojure.lang.Numbers.gt (Numbers.java:261)
;     eboshi.services.migrations$eval19164$get_remaining_migrations_names__19176$fn__19177$fn__19178.invoke (NO_SOURCE_FILE:80)
;     clojure.core$filter$fn__5962.invoke (core.clj:2838)
;     clojure.lang.LazySeq.sval (LazySeq.java:42)
;     clojure.lang.LazySeq.seq (LazySeq.java:51)
;     clojure.lang.RT.seq (RT.java:535)
;     clojure.core$seq__5467.invokeStatic (core.clj:139)
;     clojure.core/seq (core.clj:139)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478.invoke (migrations.clj:39)
;     eboshi.services.migrations$eval18469$up_BANG___18474.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__19783.invokeStatic (mysql_migrations.clj:75)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:61)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval19778$fn__19779.invoke (mysql_migrations.clj:55)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval19817.invokeStatic (mysql_migrations.clj:79)
;     eboshi.integration.services.mysql_migrations$eval19817.invoke (mysql_migrations.clj:79)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     clojure.lang.Compiler.load (Compiler.java:7653)
;     eboshi.core$eval19753.invokeStatic (NO_SOURCE_FILE:1)
;     eboshi.core$eval19753.invoke (NO_SOURCE_FILE:1)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 6, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.services.migrations/get-remaining-migrations-names
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
; nil
; nil
; 1Createt_1Table
; 
; ERROR in (up-migration-test) (Numbers.java:261)
; Uncaught exception, not in assertion.
; expected: nil
;   actual: java.lang.ClassCastException: class java.lang.String cannot be cast to class java.lang.Number (java.lang.String and java.lang.Number are in module java.base of loader 'bootstrap')
;  at clojure.lang.Numbers.gt (Numbers.java:261)
;     eboshi.services.migrations$eval19840$get_remaining_migrations_names__19845$fn__19846$fn__19847.invoke (NO_SOURCE_FILE:28)
;     clojure.core$filter$fn__5962.invoke (core.clj:2838)
;     clojure.lang.LazySeq.sval (LazySeq.java:42)
;     clojure.lang.LazySeq.seq (LazySeq.java:51)
;     clojure.lang.RT.seq (RT.java:535)
;     clojure.core$seq__5467.invokeStatic (core.clj:139)
;     clojure.core/seq (core.clj:139)
;     eboshi.services.migrations$eval18469$up_BANG___18474$fn__18478.invoke (migrations.clj:39)
;     eboshi.services.migrations$eval18469$up_BANG___18474.invoke (migrations.clj:36)
;     eboshi.integration.services.mysql_migrations$fn__19891.invokeStatic (mysql_migrations.clj:74)
;     eboshi.integration.services.mysql_migrations/fn (mysql_migrations.clj:60)
;     clojure.test$test_var$fn__9856.invoke (test.clj:717)
;     clojure.test$test_var.invokeStatic (test.clj:717)
;     clojure.test$test_var.invoke (test.clj:708)
;     clojure.test$test_vars$fn__9882$fn__9887.invoke (test.clj:735)
;     eboshi.integration.services.mysql_migrations$eval19886$fn__19887.invoke (mysql_migrations.clj:54)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars$fn__9882.invoke (test.clj:735)
;     schema.test$validate_schemas$fn12268__12278$fn__12279.invoke (test.cljc:12)
;     schema.test$validate_schemas$fn12268__12278.invoke (test.cljc:12)
;     schema.test$validate_schemas.invokeStatic (test.cljc:12)
;     schema.test$validate_schemas.invoke (test.cljc:7)
;     clojure.test$compose_fixtures$fn__9850$fn__9851.invoke (test.clj:694)
;     clojure.test$default_fixture.invokeStatic (test.clj:687)
;     clojure.test$default_fixture.invoke (test.clj:683)
;     clojure.test$compose_fixtures$fn__9850.invoke (test.clj:694)
;     clojure.test$test_vars.invokeStatic (test.clj:731)
;     clojure.test$run_test_var.invokeStatic (test.clj:802)
;     clojure.test$run_test_var.invoke (test.clj:797)
;     eboshi.integration.services.mysql_migrations$eval19925.invokeStatic (mysql_migrations.clj:78)
;     eboshi.integration.services.mysql_migrations$eval19925.invoke (mysql_migrations.clj:78)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     clojure.lang.Compiler.load (Compiler.java:7653)
;     eboshi.core$eval19861.invokeStatic (NO_SOURCE_FILE:1)
;     eboshi.core$eval19861.invoke (NO_SOURCE_FILE:1)
;     clojure.lang.Compiler.eval (Compiler.java:7194)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458$fn__1469.invoke (interruptible_eval.clj:106)
;     nrepl.middleware.interruptible_eval$evaluator$run__1458.invoke (interruptible_eval.clj:101)
;     nrepl.middleware.session$session_exec$session_loop__1542.invoke (session.clj:230)
;     nrepl.SessionThread.run (SessionThread.java:21)
; 
; Ran 1 tests containing 7 assertions.
; 0 failures, 1 errors.
{:test 1, :pass 6, :fail 0, :error 1, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; Execution error (ClassCastException) at eboshi.services.migrations/eval19937 (REPL:29).
; class java.lang.String cannot be cast to class java.lang.Number (java.lang.String and java.lang.Number are in module java.base of loader 'bootstrap')
clj꞉eboshi.services.migrations꞉> 
-1
clj꞉eboshi.services.migrations꞉> 
21
clj꞉eboshi.services.migrations꞉> 
0
clj꞉eboshi.services.migrations꞉> 
#'eboshi.services.migrations/get-remaining-migrations-names
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; Ran 1 tests containing 8 assertions.
; 0 failures, 0 errors.
{:test 1, :pass 8, :fail 0, :error 0, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/sync-migrations-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; Ran 1 tests containing 2 assertions.
; 0 failures, 0 errors.
{:test 1, :pass 2, :fail 0, :error 0, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/down-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; FAIL in (down-migration-test) (NO_SOURCE_FILE:92)
; It should revert migrations in reverse order
; expected: (false? (check-if-table-exists con "t_1"))
;   actual: (not (false? true))
; 
; FAIL in (down-migration-test) (NO_SOURCE_FILE:93)
; It should revert migrations in reverse order
; expected: (check-if-table-exists con "t_2")
;   actual: (not (check-if-table-exists #object[com.mysql.cj.jdbc.ConnectionImpl 0x14f1ab6e "com.mysql.cj.jdbc.ConnectionImpl@14f1ab6e"] "t_2"))
; 
; Ran 1 tests containing 3 assertions.
; 2 failures, 0 errors.
{:test 1, :pass 1, :fail 2, :error 0, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/sync-migrations-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/down-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; 
; FAIL in (down-migration-test) (NO_SOURCE_FILE:92)
; It should revert migrations in reverse order
; expected: (false? (check-if-table-exists con "t_1"))
;   actual: (not (false? true))
; 
; FAIL in (down-migration-test) (NO_SOURCE_FILE:93)
; It should revert migrations in reverse order
; expected: (check-if-table-exists con "t_2")
;   actual: (not (check-if-table-exists #object[com.mysql.cj.jdbc.ConnectionImpl 0x758d838d "com.mysql.cj.jdbc.ConnectionImpl@758d838d"] "t_2"))
; 
; Ran 1 tests containing 3 assertions.
; 2 failures, 0 errors.
{:test 1, :pass 1, :fail 2, :error 0, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.services.migrations/down!
clj꞉eboshi.services.migrations꞉> 
; Evaluating file: mysql_migrations.clj
; 
; Testing eboshi.integration.services.mysql-migrations
; 2Createt_2Table
; {:name 2Createt_2Table, :instructions [drop table t_2;], :type :down, :created-at #inst "2025-10-11T15:49:19.220-00:00"}
; 
; FAIL in (down-migration-test) (mysql_migrations.clj:92)
; It should revert migrations in reverse order
; expected: (false? (check-if-table-exists con "t_1"))
;   actual: (not (false? true))
; 
; FAIL in (down-migration-test) (mysql_migrations.clj:93)
; It should revert migrations in reverse order
; expected: (check-if-table-exists con "t_2")
;   actual: (not (check-if-table-exists #object[com.mysql.cj.jdbc.ConnectionImpl 0x7916cf49 "com.mysql.cj.jdbc.ConnectionImpl@7916cf49"] "t_2"))
; 1Createt_1Table
; {:name 1Createt_1Table, :instructions [drop table t_1;], :type :down, :created-at #inst "2025-10-11T15:49:19.268-00:00"}
; 
; Ran 1 tests containing 3 assertions.
; 2 failures, 0 errors.
{:test 1, :pass 1, :fail 2, :error 0, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.integration.services.mysql-migrations/down-migration-test
clj꞉eboshi.integration.services.mysql-migrations꞉> 
; 
; Testing eboshi.integration.services.mysql-migrations
; 2Createt_2Table
; {:name 2Createt_2Table, :instructions [drop table t_2;], :type :down, :created-at #inst "2025-10-11T15:52:40.359-00:00"}
; 1Createt_1Table
; {:name 1Createt_1Table, :instructions [drop table t_1;], :type :down, :created-at #inst "2025-10-11T15:52:40.403-00:00"}
; 
; Ran 1 tests containing 3 assertions.
; 0 failures, 0 errors.
{:test 1, :pass 3, :fail 0, :error 0, :type :summary}
clj꞉eboshi.integration.services.mysql-migrations꞉> 
#'eboshi.services.migrations/down!
clj꞉eboshi.services.migrations꞉> 
; Running tests for the following namespaces:
;   eboshi.integration.services.mysql-migrations
;   eboshi.integration.services.mysql-migrations-test

; 13 tests finished, all passing 👍, ns: 1, vars: 3
clj꞉eboshi.integration.services.mysql-migrations꞉> 
